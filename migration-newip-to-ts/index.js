(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&!e;)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();var e,n=function(){return n=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},n.apply(this,arguments)};!function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.OPTIONS="OPTIONS"}(e||(e={}));var o,r=function(){function t(t,e){this.baseLink=t,this.options=e}return t.prototype.getResp=function(t,n){var o=t.endpoint,r=t.options,c=void 0===r?{}:r;void 0===n&&(n=function(){console.error("No callback for GET response")}),this.load(e.GET,o,n,c)},t.prototype.errorHandler=function(t){if(!t.ok)throw 401!==t.status&&404!==t.status||console.log("Sorry, but there is ".concat(t.status," error: ").concat(t.statusText)),Error(t.statusText);return t},t.prototype.makeUrl=function(t,e){var o=n(n({},this.options),t),r="".concat(this.baseLink).concat(e,"?");return Object.keys(o).forEach((function(t){r+="".concat(t,"=").concat(o[t],"&")})),r.slice(0,-1)},t.prototype.load=function(t,e,n,o){void 0===o&&(o={}),fetch(this.makeUrl(o,e),{method:t}).then(this.errorHandler).then((function(t){return t.json()})).then((function(t){return n(t)})).catch((function(t){return console.error(t)}))},t}(),c=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const s=function(t){function e(){return t.call(this,"https://rss-news-api.onrender.com/",{apiKey:"8f026eec0c81457c8fe74f19f15e1b5d"})||this}return c(e,t),e}(r);var i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getSources=function(e){t.prototype.getResp.call(this,{endpoint:"sources"},e)},e.prototype.getNews=function(e,n){for(var o=e.target,r=e.currentTarget;o!==r;){if(o.classList.contains("source__item")){var c=o.getAttribute("data-source-id");return void(c&&r.getAttribute("data-source")!==c&&(r.setAttribute("data-source",c),t.prototype.getResp.call(this,{endpoint:"everything",options:{sources:c}},n)))}o=o.parentNode}},e}(s);function a(t){var e=t.parent,n=t.selector,o=t.callback,r=e.querySelector(n);r&&o(r)}const l=t.p+"87b12dbce508083e76b7.png";var d=function(){function t(){}return t.prototype.draw=function(t){var e=t.length>=10?t.filter((function(t,e){return e<10})):t,n=document.createDocumentFragment(),o=document.querySelector("#newsItemTemp");e.forEach((function(t,e){var r=o.content.cloneNode(!0);e%2&&a({parent:r,selector:".news__item",callback:function(t){t.classList.add("alt")}}),a({parent:r,selector:".news__meta-photo",callback:function(e){e.style.backgroundImage="url(".concat(t.urlToImage||l,")")}}),a({parent:r,selector:".news__meta-author",callback:function(e){e.textContent=t.author||t.source.name}}),a({parent:r,selector:".news__meta-date",callback:function(e){e.textContent=t.publishedAt.slice(0,10).split("-").reverse().join("-")}}),a({parent:r,selector:".news__description-title",callback:function(e){e.textContent=t.title}}),a({parent:r,selector:".news__description-source",callback:function(e){e.textContent=t.source.name}}),a({parent:r,selector:".news__description-content",callback:function(e){e.textContent=t.description}}),a({parent:r,selector:".news__read-more a",callback:function(e){e.setAttribute("href",t.url)}}),n.append(r)})),a({parent:document,selector:".news",callback:function(t){t.innerHTML="",t.appendChild(n)}})},t}();const p=d,m=function(){function t(){var t=this;this.isHidden=!0;var e=document.createElement("template");e.insertAdjacentHTML("afterbegin",'<button class="header__burger-menu"> <div class="burger-menu__line"></div> <div class="burger-menu__line"></div> <div class="burger-menu__line"></div> </button>'),this.showButton=e.firstChild,this.showButton.addEventListener("click",(function(){t.isHidden?t.showMenu():t.hideMenu()})),document.body.append(this.showButton),this.backgroundElement=document.createElement("div"),this.backgroundElement.classList.add("burger-menu__background"),this.backgroundElement.addEventListener("click",(function(){t.hideMenu()})),this.menuElement=document.createElement("div"),this.menuElement.classList.add("burger-menu")}return t.prototype.addElement=function(t){this.menuElement.append(t)},t.prototype.clearElements=function(){this.menuElement.innerHTML=""},t.prototype.showMenu=function(){var e=this;this.isHidden&&(document.documentElement.style.overflow="hidden",document.body.append(this.backgroundElement),document.body.append(this.menuElement),this.isHidden=!1,setTimeout((function(){e.showButton.classList.add("header__burger-menu_shown"),e.backgroundElement.classList.add("burger-menu__background_show"),e.menuElement.classList.add("burger-menu_shown");var t="".concat(document.documentElement.scrollTop+document.documentElement.clientTop,"px");e.backgroundElement.style.top=t,e.menuElement.style.top=t}),t.ADD_DELAY))},t.prototype.hideMenu=function(){var e=this;this.isHidden||(document.documentElement.style.overflow="",this.backgroundElement.classList.remove("burger-menu__background_show"),this.menuElement.classList.remove("burger-menu_shown"),this.showButton.classList.remove("header__burger-menu_shown"),this.isHidden=!0,setTimeout((function(){document.body.removeChild(e.backgroundElement),document.body.removeChild(e.menuElement)}),t.TRANSITION_TIME))},t.TRANSITION_TIME=500,t.ADD_DELAY=5,t}();var h=function(){function t(){this.sourcesMenu=new m}return t.prototype.draw=function(t,e){var n=this,o=document.createDocumentFragment(),r=document.querySelector("#sourceItemTemp");if(t.forEach((function(t){var c=r.content.cloneNode(!0);a({parent:c,selector:".source__item-name",callback:function(e){e.textContent=t.name}}),a({parent:c,selector:".source__item",callback:function(o){o.setAttribute("data-source-id",t.id),e.matches&&o.addEventListener("click",(function(){n.sourcesMenu.hideMenu()}))}}),o.append(c)})),e.matches){this.sourcesMenu.clearElements();var c=document.createElement("div");c.classList.add("sources-wrapper"),c.classList.add("sources-wrapper_modal");var s=document.createElement("div");s.classList.add("sources"),s.classList.add("sources_modal"),s.append(o),c.append(s),this.sourcesMenu.addElement(c)}else this.sourcesMenu.hideMenu(),a({parent:document,selector:".sources",callback:function(t){t.append(o)}})},t}();const f=h,b=function(){function t(){this.news=new p,this.sources=new f}return t.prototype.drawNews=function(t){var e=(null==t?void 0:t.articles)?null==t?void 0:t.articles:[];this.news.draw(e)},t.prototype.drawSources=function(t){var e=(null==t?void 0:t.sources)?null==t?void 0:t.sources:[],n=window.matchMedia("(max-width: 500px)");n.addEventListener("change",this.sources.draw.bind(this.sources,e,n)),this.sources.draw(e,n)},t}();(new(function(){function t(){this.controller=new u,this.view=new b}return t.prototype.start=function(){var t=this;document.body.addEventListener("click",(function(e){return t.controller.getNews(e,(function(e){return t.view.drawNews(e)}))})),this.controller.getSources((function(e){return t.view.drawSources(e)}))},t}())).start()})();